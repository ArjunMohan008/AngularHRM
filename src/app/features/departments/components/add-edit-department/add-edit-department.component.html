<div class="container">
  <nb-card accent="info" class="departmentFormCard">
    <nb-card-header>
      {{ isEditing ? "Edit" : "Add" }} Department</nb-card-header
    >
    <nb-card-body class="departmentFormCardBody">
      <form [formGroup]="departmentForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <mat-form-field appearance="outline">
            <mat-label>Name</mat-label>
            <input matInput placeholder="Name" formControlName="name" />
            <mat-error *ngIf="departmentForm.get('name').invalid">
              <mat-error
                *ngIf="departmentForm.get('name').hasError('required')"
              >
                Name is required
              </mat-error>
              <mat-error
                *ngIf="departmentForm.get('name').hasError('minlength')"
              >
                Name must be at least 3 characters long
              </mat-error>
              <mat-error
                *ngIf="departmentForm.get('name').hasError('maxlength')"
              >
                Name cannot be more than 50 characters long
              </mat-error>
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field appearance="outline">
            <mat-label>Description</mat-label>
            <input
              matInput
              placeholder="Description"
              formControlName="description"
            />
            <mat-error *ngIf="departmentForm.get('description').invalid">
              <mat-error
                *ngIf="departmentForm.get('description').hasError('required')"
              >
                Description is required
              </mat-error>
              <mat-error
                *ngIf="departmentForm.get('description').hasError('minlength')"
              >
                Description must be at least 3 characters long
              </mat-error>
              <mat-error
                *ngIf="departmentForm.get('description').hasError('maxlength')"
              >
                Description cannot be more than 50 characters long
              </mat-error>
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field appearance="outline">
            <mat-label>Manager</mat-label>
            <input matInput placeholder="Manager" formControlName="manager" />
            <mat-error *ngIf="departmentForm.get('manager').invalid">
              <mat-error
                *ngIf="departmentForm.get('manager').hasError('required')"
              >
                Manager is required
              </mat-error>
              <mat-error
                *ngIf="departmentForm.get('manager').hasError('minlength')"
              >
                Manager must be at least 3 characters long
              </mat-error>
              <mat-error
                *ngIf="departmentForm.get('manager').hasError('maxlength')"
              >
                Manager cannot be more than 50 characters long
              </mat-error>
            </mat-error>
          </mat-form-field>
        </div>

        <div class="btn-group">
          <button
            mat-raised-button
            color="primary"
            type="submit"
            class="btn btn-primary"
            [disabled]="!departmentForm.valid"
          >
            {{ isEditing ? "Edit" : "Add" }} Department
          </button>

          <button mat-raised-button type="button" (click)="onReset()">
            Reset
          </button>
        </div>
      </form>
    </nb-card-body>
  </nb-card>
</div>
